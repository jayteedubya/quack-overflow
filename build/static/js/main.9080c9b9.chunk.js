(this["webpackJsonpquack-overflow"]=this["webpackJsonpquack-overflow"]||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),i=n(25),a=n.n(i),o=n(7),c=n(3),u=n(4),d=n(6),l=n(5),h=n(44),p=n.n(h),j=n(0),b=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={username:null,error:null,isLoaded:!1},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:p.a.navbar,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:" Quack Overflow "}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/",children:" Questions By Date "})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/top",children:" Questions By Views "})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/submit",children:" Ask A Question "})}),!this.props.username&&Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/sign-in",children:" Sign In "})}),!this.props.username&&Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/sign-up",children:" Sign Up "})}),!!this.props.username&&Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/sign-out",children:" Sign Out"})}),!!this.props.username&&Object(j.jsx)("li",{children:Object(j.jsxs)(o.b,{to:"/users/".concat(this.props.username),children:[" ",this.props.username," "]})})]})]})})}}]),n}(r.a.Component),O=n(47),m=n.n(O),x=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={topics:[]},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/questions/topics").then((function(e){return e.json()})).then((function(t){return e.setState({topics:t})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:m.a.sidebar,children:[Object(j.jsx)("h3",{style:{marginTop:0,marginBottom:"10px",textAlign:"center",textDecoration:"underline"},children:" Popular Topics "}),this.state.topics.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(o.b,{to:"/topics/".concat(e.topic),children:e.topic}),Object(j.jsx)("br",{})]},e.topic)}))]})}}]),n}(r.a.Component),f=n(8),g=n(48),v=n.n(g),y=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).toggleEdit=function(){s.setState((function(e){return e.readOnly=!e.readOnly,e.buttonText=e.readOnly?"edit":"submit",e}))},s.editAnswer=function(){if(!s.state.readOnly){var e=document.getElementById("answer-body").value,t=JSON.stringify({answerBody:e});return fetch("/api/answers/answer/".concat(s.props.id),{method:"PUT",body:t,mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})),void s.toggleEdit()}s.toggleEdit()},s.deleteAnswer=function(){window.confirm("are you sure you want to delete this answer?")&&fetch("/api/answers/answer/".concat(s.props.id),{method:"DELETE",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return s.props.updateAnswers()})).catch((function(e){return console.error(e)}))},s.patOnTheBack=function(){fetch("/api/answers/answer/".concat(s.props.id,"/POB"),{method:"PUT",credentials:"include"}).then((function(e){return e.json()})).then((function(e){"post successfully POB'd"!==e.message&&"user has already patted post in the back!"!==e.error||s.setState({buttonDisabled:!0})}))},s.state={readOnly:!0,buttonText:"edit",buttonDisabled:!1},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:v.a.answerbox,children:[this.props.profilePage&&Object(j.jsx)(o.b,{to:"/questions/".concat(this.props.question_id),children:"original question"}),Object(j.jsx)("textarea",{readOnly:this.state.readOnly,defaultValue:this.props.body,id:"answer-body"}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"author: "}),Object(j.jsx)(o.b,{to:"/users/".concat(this.props.author),children:this.props.author}),"    ",Object(j.jsx)("strong",{children:"timestamp: "})," ",new Date(this.props.timestamp).toLocaleString(),"    ",Object(j.jsx)("strong",{children:"Patted on the back "}),"".concat(this.props.pob_count),Object(j.jsx)("strong",{children:" times"})]}),this.props.userViewing===this.props.author&&Object(j.jsxs)("span",{children:[Object(j.jsx)("button",{onClick:this.editAnswer,children:this.state.buttonText}),Object(j.jsx)("button",{onClick:this.deleteAnswer,children:"delete"})]}),!!this.props.userViewing&&Object(j.jsx)("button",{onClick:this.patOnTheBack,disabled:this.state.buttonDisabled,children:"pat 'em on the back"})]})}}]),n}(r.a.Component),w=n(49),k=n.n(w),S=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).submit=function(){var t=e.getAndValidateAnswer();if(t){document.getElementById("new-comment").value="";var n=JSON.stringify({answerBody:t});fetch("/api/answers/".concat(e.props.questionId),{method:"POST",body:n,mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(){return e.props.updateAnswers()})).catch((function(e){return console.error(e)}))}},e}return Object(u.a)(n,[{key:"getAndValidateAnswer",value:function(){var e=document.getElementById("new-comment").value;return e.length>600?(window.alert("answer must be 600 characters or less"),null):e}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[this.props.username&&Object(j.jsxs)("div",{className:k.a.submitbox,children:[Object(j.jsx)("h3",{children:"Answer The Question!"}),Object(j.jsx)("textarea",{id:"new-comment"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:this.submit,children:" submit "})]}),this.props.answers.map((function(t){return Object(j.jsx)(y,{updateAnswers:e.props.updateAnswers,id:t.id,author:t.author,userViewing:e.props.username,pob_count:t.pob_count,body:t.body,timestamp:t.time},t.id)}))]})}}]),n}(r.a.Component),q=n(50),T=n.n(q),C=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).toggleEdit=function(){s.setState((function(e){return e.readOnly=!e.readOnly,e.buttonText=e.readOnly?"edit":"submit",e}))},s.editQuestion=function(){if(!s.state.readOnly){var e=document.getElementById("question-body").value,t=JSON.stringify({questionBody:e});return fetch("/api/questions/question/".concat(s.props.id),{method:"PUT",body:t,credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})),void s.toggleEdit()}s.toggleEdit()},s.deleteQuestion=function(){window.confirm("are you sure you want to delete this question?")&&(fetch("/api/questions/question/".concat(s.props.id),{method:"DELETE",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return s.props.updateAnswers()})).catch((function(e){return console.error(e)})),window.location.href="/")},s.state={readOnly:!0,buttonText:"edit"},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:T.a.questionarea,children:[Object(j.jsx)("h1",{children:this.props.question.title}),Object(j.jsx)("textarea",{id:"question-body",readOnly:this.state.readOnly,defaultValue:this.props.question.body}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"author: "}),this.props.question.author,Object(j.jsx)("a",{href:"/profile",children:this.props.author})," ",Object(j.jsx)("strong",{children:"timestamp: "})," ",new Date(this.props.question.time).toLocaleString()]}),this.props.username===this.props.question.author&&Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:this.editQuestion,children:this.state.buttonText}),Object(j.jsx)("button",{onClick:this.deleteQuestion,children:"delete"})]})]})}}]),n}(r.a.Component),_=n(51),E=n.n(_),B=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).updateAnswers=function(){fetch("/api/questions/question/".concat(s.props.id),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s.setState({isLoaded:!0,question:e.question,answers:e.answers})})).catch((function(e){return console.error(e)}))},s.state={error:null,isLoaded:!1,question:{},answers:[]},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/questions/question/".concat(this.props.id),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,question:t.question,answers:t.answers})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{to:"/404"})});return this.state.question&&(e=Object(j.jsxs)("div",{className:E.a.postpage,children:[Object(j.jsx)(C,{id:this.props.id,username:this.props.username,question:this.state.question}),Object(j.jsx)(S,{username:this.props.username,userLoggedin:this.props.userLoggedin,questionId:this.props.id,answers:this.state.answers,updateAnswers:this.updateAnswers})]})),e}}]),n}(r.a.Component),A=function(e){e.userLoggedIn;var t=e.username,n=e.updateAppState,s=Object(f.g)();return Object(j.jsx)(f.d,{children:Object(j.jsx)(f.b,{path:"".concat(s.path,"/:id"),render:function(e){return Object(j.jsx)(B,{username:t,updateAppState:n,id:e.match.params.id},window.location.pathname)}})})},P=(n(69),n(52)),I=n.n(P),L=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:I.a.postbox,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:Object(j.jsx)(o.b,{to:this.props.url,children:this.props.title})}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"author:"})," ",this.props.author]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"timestamp:"})," ",this.props.timestamp]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"views:"})," ",this.props.views]})]})})}}]),n}(r.a.Component),N=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).nextPage=function(){s.setState({currentPage:s.state.currentPage+1}),fetch("/api/questions?page=".concat(s.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s.setState({isLoaded:!0,questions:e})})).catch((function(e){return console.error(e)}))},s.prevPage=function(){s.state.pageNumber-1>=0&&(s.setState({currentPage:s.state.currentPage-1}),fetch("/api/questions?page=".concat(s.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error&&s.setState({error:e.error,isLoaded:!0}),s.setState({isLoaded:!0,questions:e})})))},s.state={error:null,isLoaded:!1,questions:[],currentPage:0,ok:!0},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/questions?page=".concat(this.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(t){return e.setState({ok:t.ok}),t})).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,questions:t})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e;if(this.state.isLoaded&&!this.state.error)try{e=this.state.questions.map((function(e){return Object(j.jsx)(L,{url:"/questions/".concat(e.id),author:e.author,timestamp:new Date(e.time).toLocaleString(),views:e.views,title:e.title},e.id)}))}catch(t){return Object(j.jsxs)("div",{style:{textAlign:"center",border:"1px solid black",marginLeft:"170px",padding:"5%",marginRight:"10px",backgroundColor:"rgb(150, 150, 150)"},children:[Object(j.jsx)("h1",{children:" No posts have been made yet!"}),Object(j.jsx)("h3",{children:" You should really do something about that "}),Object(j.jsx)("h6",{children:" please... "}),Object(j.jsx)(o.b,{to:"/submit",children:" Make a Post"})]})}return this.state.isLoaded&&this.state.error&&(e=Object(j.jsxs)("div",{style:{textAlign:"center",border:"1px solid black",marginLeft:"170px",padding:"5%",marginRight:"10px",backgroundColor:"rgb(150, 150, 150)"},children:[Object(j.jsx)("h1",{children:" No posts have been made yet!"}),Object(j.jsx)("h3",{children:" You should really do something about that "}),Object(j.jsx)("h6",{children:" please... "}),Object(j.jsx)(o.b,{to:"/submit",children:" Make a Post"})]})),Object(j.jsxs)("div",{children:[e,this.state.questions.length>24&&Object(j.jsx)("button",{style:{"margin-left":"170px"},onClick:this.nextPage,children:" next page "})]})}}]),n}(r.a.Component),V=n(53),D=n.n(V),R=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("ul",{className:D.a.profilenavbar,children:[Object(j.jsx)("li",{children:Object(j.jsx)("h3",{children:this.props.username})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/users/".concat(this.props.username,"/questions"),children:"Questions"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/users/".concat(this.props.username,"/answers"),children:"Answers"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/users/".concat(this.props.username),children:"About me"})})]})}}]),n}(r.a.Component),G=n(20),Q=n.n(G),M=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).toggleEditTitle=function(){s.setState((function(e){return e.titleReadOnly=!e.titleReadOnly,e.titleButtonText=e.titleReadOnly?"edit":"submit",e}))},s.editTitle=function(){if(!s.state.titleReadOnly){var e=document.getElementById("title").value,t=JSON.stringify({title:e});return fetch("/api/users/".concat(s.props.match.params.username,"/title"),{method:"PUT",body:t,mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})),void s.toggleEditTitle()}s.toggleEditTitle()},s.toggleEditBio=function(){s.setState((function(e){return e.bioReadOnly=!e.bioReadOnly,e.bioButtonText=e.bioReadOnly?"edit":"submit",e}))},s.editBio=function(){if(!s.state.bioReadOnly){var e=document.getElementById("bio").value,t=JSON.stringify({bio:e});return fetch("/api/users/".concat(s.props.match.params.username,"/bio"),{method:"PUT",body:t,mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})),void s.toggleEditBio()}s.toggleEditBio()},s.state={titleReadOnly:!0,bioReadOnly:!0,bioButtonText:"edit",titleButtonText:"edit",title:null,bio:null,isLoaded:!1},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/".concat(this.props.match.params.username),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var n=t.bio,s=t.title;e.setState({isLoaded:!0,bio:n,title:s})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=Object(j.jsxs)("div",{children:[Object(j.jsx)(R,{username:this.props.match.params.username}),Object(j.jsxs)("div",{className:Q.a.userpublic,children:[Object(j.jsxs)("div",{className:Q.a.title,children:[Object(j.jsx)("h3",{style:{margin:0},children:" title "}),Object(j.jsx)("textarea",{id:"title",readOnly:this.state.titleReadOnly,defaultValue:this.state.title}),this.props.userViewing===this.props.match.params.username&&Object(j.jsx)("button",{onClick:this.editTitle,children:this.state.titleButtonText})]}),Object(j.jsxs)("div",{className:Q.a.bio,children:[Object(j.jsx)("h3",{style:{margin:0},children:" bio "}),Object(j.jsx)("textarea",{id:"bio",readOnly:this.state.bioReadOnly,defaultValue:this.state.bio}),this.props.userViewing===this.props.match.params.username&&Object(j.jsx)("button",{onClick:this.editBio,children:this.state.bioButtonText})]})]})]});return!this.state.bio&&this.state.isLoaded&&(e=Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{to:"/404"})})),e}}]),n}(r.a.Component),U=n(54),J=n.n(U),F=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).updateAnswers=function(){fetch("/api/users/".concat(s.props.username,"/answers"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return s.setState({ok:e.ok}),e})).then((function(e){return e.json()})).then((function(e){s.setState({isLoaded:!0,answers:e.answers})})).catch((function(e){return console.error(e)}))},s.state={answers:[],error:null,isLoaded:!1,ok:!0},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/".concat(this.props.username,"/answers"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(t){return e.setState({ok:t.ok}),t})).then((function(e){return e.json()})).then((function(t){return e.setState({isLoaded:!0,answers:t},(function(t){return e.setState({isLoaded:!0,error:t})}))}))}},{key:"render",value:function(){var e=this,t=Object(j.jsxs)("div",{children:[Object(j.jsx)(R,{username:this.props.username}),Object(j.jsx)("div",{className:J.a.useranswers,children:this.state.answers.map((function(t){return Object(j.jsx)(y,{profilePage:!0,updateAnswers:e.props.updateAnswers,userViewing:e.props.userViewing,question_id:t.question_id,id:t.id,author:t.author,pob_count:t.pob_count,body:t.body,timestamp:t.time},t.id)}))})]});return this.state.ok||(t=Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{to:"/404"})})),t}}]),n}(r.a.Component),z=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={questions:[],error:null,isLoaded:!1,ok:!0},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/".concat(this.props.username,"/questions"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(t){return e.setState({ok:t.ok}),t})).then((function(e){return e.json()})).then((function(t){return e.setState({questions:t,isLoaded:!0})}),(function(t){return e.setState({error:t,isLoaded:!0})}))}},{key:"render",value:function(){var e=Object(j.jsxs)("div",{children:[Object(j.jsx)(R,{username:this.props.username}),Object(j.jsx)("div",{children:this.state.questions.map((function(e){return Object(j.jsx)(L,{url:"/questions/".concat(e.id),author:e.username,timestamp:e.time,views:e.views,title:e.title})}))})]});return this.state.ok||(e=Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{to:"/404"})})),e}}]),n}(r.a.Component),Y=n(18),H=n.n(Y),W=n(15),X=n.n(W),Z=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).signUp=function(){var e=s.getAndValidateFields();if(!e)return null;fetch("/api/auth/sign-up",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){t.message&&"profile created!"===t.message&&(s.setState({loggedIn:!0,profileCreated:!0}),s.props.updateAppState({username:e.username})),t.error&&"username already taken"===t.error&&(window.alert("that username is already taken"),document.getElementById("username").value="")}))},s.state={loggedIn:!1,profileCreated:!1},s}return Object(u.a)(n,[{key:"getAndValidateFields",value:function(){var e=document.getElementById("username").value;if(!H.a.isAlphanumeric(e)||e.length>40)return window.alert("username must be alpha numeric and less than 40 characters or less in length"),document.getElementById("username").value="",null;var t=document.getElementById("password").value;if(!H.a.isStrongPassword(t)||t.length>40)return window.alert("password must contain a capital letter, a lowercase letter, a number, and a symbol and must be between 8 and 41 characters long"),document.getElementById("password").value="",null;if(t!==document.getElementById("confirm-password").value)return window.alert("password and confirm password must match"),document.getElementById("password").value="",document.getElementById("confirm-password").value="",null;var n=document.getElementById("title").value;if(!H.a.isAlphanumeric(n)&&n.length>60)return window.alert("title must not be more than 60 characters in length and must be alphanumeric"),document.getElementById("title").value="",null;var s=document.getElementById("bio").value;return s.length>300?(window.alert("bio must not be longer than 300 characters in length"),null):{username:e,password:t,title:n,bio:s}}},{key:"render",value:function(){var e=Object(j.jsx)("div",{className:X.a.signinbox,children:Object(j.jsxs)("div",{class:X.a.innerbox,children:[Object(j.jsx)("h1",{children:" Sign Up For Quack Overflow! "}),Object(j.jsx)("label",{for:"username",children:" username "}),Object(j.jsx)("input",{type:"text",id:"username",name:"username"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{for:"title",children:" title "}),Object(j.jsx)("input",{type:"text",name:"title",id:"title"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{for:"password",children:" password "}),Object(j.jsx)("input",{type:"password",id:"password",name:"password"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{for:"confirm-password",children:" confirm password "}),Object(j.jsx)("input",{type:"password",id:"confirm-password",name:"confirm-password"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{for:"bio",children:" bio "}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{id:"bio",name:"bio"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:this.signUp,children:" Sign Up! "})]})});return this.state.loggedIn?Object(j.jsx)(f.a,{to:"/"}):e}}]),n}(r.a.Component),K=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={loggedIn:!1},s}return Object(u.a)(n,[{key:"signIn",value:function(){var e=this,t=document.getElementById("username").value,n=document.getElementById("password").value,s={method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:n})};fetch("/api/auth/sign-in",s).then((function(e){return e.json()})).then((function(n){"log in success"===n.message&&(e.setState({loggedIn:!0}),e.props.updateAppState({username:t}))}))}},{key:"render",value:function(){var e=this,t=Object(j.jsx)("div",{className:X.a.signinbox,children:Object(j.jsxs)("div",{className:X.a.innerbox,children:[Object(j.jsx)("h1",{children:" Sign In To Quack Overflow! "}),Object(j.jsx)("label",{htmlFor:"username",children:" username "}),Object(j.jsx)("input",{type:"text",id:"username",name:"username"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{htmlFor:"password",children:" password "}),Object(j.jsx)("input",{type:"password",id:"password",name:"password"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return e.signIn()},children:" Sign In "})]})});return this.state.loggedIn?Object(j.jsx)(f.a,{to:"/"}):t}}]),n}(r.a.Component),$=n(27),ee=n.n($),te=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).redirect=function(e){s.setState({postId:e})},s.submit=function(){var e=s.getAndValidateQuestion();if(e){var t=JSON.stringify(e);fetch("api/questions/new",{method:"POST",body:t,mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s.redirect(e.id.id)})).catch((function(e){return console.error(e)}))}},s.state={postId:null,characterCountBody:0,characterCountTitle:0,characterCountTopic:0},s}return Object(u.a)(n,[{key:"getAndValidateQuestion",value:function(){var e=document.getElementById("title").value;if(e.length>80)return window.alert("title must be 80 characters or less"),null;var t=document.getElementById("topic").value;if(t.length>60)return window.alert("topic must be 60 characters or less"),null;var n=document.getElementById("body").value;return n.length>1e3?(window.alert("topic must be 1000 characters or less"),null):{title:e,topic:t,questionBody:n}}},{key:"characterCounterTitle",value:function(){this.setState({characterCountTitle:document.getElementById("title").value.length})}},{key:"characterCounterTopic",value:function(){this.setState({characterCountTopic:document.getElementById("topic").value.length})}},{key:"characterCounterBody",value:function(){this.setState({characterCountBody:document.getElementById("body").value.length})}},{key:"render",value:function(){var e=this,t=Object(j.jsxs)("div",{className:ee.a.newpost,children:[Object(j.jsx)("label",{for:"title",children:" title "}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{onInput:function(){return e.characterCounterTitle()},type:"text",name:"title",id:"title"}),Object(j.jsxs)("p",{children:[this.state.characterCountTitle," / 80 characters"]}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{for:"topic",children:" topic "}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{onInput:function(){return e.characterCounterTopic()},type:"text",name:"topic",id:"topic"}),Object(j.jsxs)("p",{children:[this.state.characterCountTopic," / 60 characters"]}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:ee.a.textcontainer,children:[Object(j.jsx)("textarea",{onInput:function(){return e.characterCounterBody()},id:"body"}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[this.state.characterCountBody," / 1000 characters"]}),Object(j.jsx)("button",{onClick:this.submit,children:" submit "})]})]});return this.state.postId?Object(j.jsx)(f.a,{to:"/questions/".concat(this.state.postId)}):this.props.username?t:Object(j.jsx)(f.a,{to:"/sign-in"})}}]),n}(r.a.Component),ne=n(28),se=function(e){var t=e.userViewing,n=Object(f.g)();return Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{path:"".concat(n.path,"/:username"),exact:!0,render:function(e){return Object(j.jsx)(M,Object(ne.a)(Object(ne.a)({},e),{},{userViewing:t}))}}),Object(j.jsx)(f.b,{path:"".concat(n.path,"/:username/questions/"),render:function(e){return Object(j.jsx)(z,{userViewing:t,username:e.match.params.username})}}),Object(j.jsx)(f.b,{path:"".concat(n.path,"/:username/answers/"),render:function(e){return Object(j.jsx)(F,{userViewing:t,username:e.match.params.username})}})]})},re=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).nextPage=function(){s.setState({currentPage:s.state.currentPage+1}),fetch("/api/questions/topics/".concat(s.props.topic,"?page=").concat(s.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s.setState({isLoaded:!0,questions:e})})).catch((function(e){return console.error(e)}))},s.prevPage=function(){if(s.state.pageNumber-1>=0)return s.setState({currentPage:s.state.currentPage-1}),void fetch("/api/questions/topics/".concat(s.props.topic,"?page=").concat(s.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s.setState({isLoaded:!0,questions:e})})).catch((function(e){return console.error(e)}))},s.state={error:null,isLoaded:!1,questions:[],currentPage:0},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/questions/topics/".concat(this.props.topic,"?page=").concat(this.state.currentPage),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e})).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,questions:t})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=Object(j.jsxs)("div",{style:{textAlign:"center",border:"1px solid black",marginLeft:"170px",padding:"5%",marginRight:"10px",backgroundColor:"rgb(150, 150, 150)"},children:[Object(j.jsx)("h1",{children:" No posts in this topic have been made yet!"}),Object(j.jsx)("h3",{children:" You should really do something about that "}),Object(j.jsx)("h6",{children:" please... "}),Object(j.jsx)(o.b,{to:"/submit",children:" Make a Post"})]});return this.state.questions.length>0&&(e=this.state.questions.map((function(e){return Object(j.jsx)(L,{url:"/questions/".concat(e.id),author:e.author,timestamp:new Date(e.time).toLocaleString(),views:e.views,title:e.title},e.id)}))),Object(j.jsxs)("div",{children:[e,e.length>24&&Object(j.jsx)("button",{style:{"margin-left":"170px"},onClick:this.nextPage,children:" next page "})]})}}]),n}(r.a.Component),ie=function(){var e=Object(f.g)();return Object(j.jsx)(f.d,{children:Object(j.jsx)(f.b,{path:"".concat(e.path,"/:topic"),render:function(e){return Object(j.jsx)(re,{topic:e.match.params.topic},window.location.pathname)}})})},ae=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).signOut=function(){fetch("/api/auth/sign-out",{method:"POST",credentials:"include"}).catch((function(e){return console.log(e)}))},s.state={signedOut:!1},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.signOut(),this.setState({signedOut:!0}),this.props.updateAppState({username:null})}},{key:"render",value:function(){return this.state.signedOut?Object(j.jsx)(f.a,{to:"/"}):Object(j.jsx)("div",{children:" ERROR: for some reason, you were unable to be logged out "})}}]),n}(r.a.Component),oe=n(55),ce=n.n(oe),ue=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:ce.a.fourzerofour,children:[Object(j.jsx)("h1",{children:" Cant find anything here "}),Object(j.jsx)("h3",{children:" you should look somewhere else "}),Object(j.jsx)("h6",{children:" please... "}),Object(j.jsx)(o.b,{to:"/",children:" Home "})]})})}}]),n}(r.a.Component),de=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).updateAppState=function(e){s.setState(e)},s.state={username:null},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/auth/who-am-i",{method:"GET",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){e.setState({username:t.username})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{username:this.state.username}),Object(j.jsx)(x,{}),Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{exact:!0,path:"/",children:Object(j.jsx)(N,{view:"home"})}),Object(j.jsx)(f.b,{path:"/top",children:Object(j.jsx)(N,{view:"top"})}),Object(j.jsx)(f.b,{path:"/most-answered",children:Object(j.jsx)(N,{view:"mostAnswered"})}),Object(j.jsx)(f.b,{path:"/sign-in",children:Object(j.jsx)(K,{updateAppState:this.updateAppState})}),Object(j.jsx)(f.b,{path:"/user",children:Object(j.jsx)(M,{})}),Object(j.jsx)(f.b,{path:"/sign-up",children:Object(j.jsx)(Z,{updateAppState:this.updateAppState})}),Object(j.jsx)(f.b,{path:"/popular",children:Object(j.jsx)(N,{view:"popular"})}),Object(j.jsx)(f.b,{path:"/submit",children:Object(j.jsx)(te,{username:this.state.username})}),Object(j.jsx)(f.b,{path:"/questions",children:Object(j.jsx)(A,{username:this.state.username,updateAppState:this.updateAppState})}),Object(j.jsx)(f.b,{path:"/users",children:Object(j.jsx)(se,{userViewing:this.state.username})}),Object(j.jsx)(f.b,{path:"/topics",children:Object(j.jsx)(ie,{})}),Object(j.jsx)(f.b,{path:"/sign-out",children:Object(j.jsx)(ae,{updateAppState:this.updateAppState})}),Object(j.jsx)(f.b,{path:"/404",children:Object(j.jsx)(ue,{})})]})]})}}]),n}(r.a.Component);a.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(de,{})}),document.getElementById("root"))},15:function(e,t,n){e.exports={signinbox:"signIn_signinbox__1StE-",innerbox:"signIn_innerbox__1sm2M"}},20:function(e,t,n){e.exports={userpublic:"userPublic_userpublic__2Q8H7",title:"userPublic_title__2bzFm",bio:"userPublic_bio__1bk3C"}},27:function(e,t,n){e.exports={newpost:"newPost_newpost__YRYwG",textcontainer:"newPost_textcontainer__1G770"}},44:function(e,t,n){e.exports={navbar:"navbar_navbar__3s4bB"}},47:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__22MNN"}},48:function(e,t,n){e.exports={answerbox:"answerBox_answerbox__31FP_"}},49:function(e,t,n){e.exports={submitbox:"answerArea_submitbox__21x09"}},50:function(e,t,n){e.exports={questionarea:"questionarea_questionarea__3soUP"}},51:function(e,t,n){e.exports={postpage:"postPage_postpage__1tNfA"}},52:function(e,t,n){e.exports={postbox:"postbox_postbox__3DoV-"}},53:function(e,t,n){e.exports={profilenavbar:"profileNavbar_profilenavbar__3aUno"}},54:function(e,t,n){e.exports={useranswers:"userAnswers_useranswers__1dWx0"}},55:function(e,t,n){e.exports={fourzerofour:"fourzerofour_fourzerofour__1ZPSX"}},69:function(e,t,n){}},[[148,1,2]]]);
//# sourceMappingURL=main.9080c9b9.chunk.js.map